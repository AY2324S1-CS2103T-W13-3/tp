@startuml ModelClassDiagram
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model as ModelPackage <<Rectangle>>{
Class "<<interface>>\nReadOnlyAddressBook" as ReadOnlyAddressBook
Class "<<interface>>\nReadOnlyTransactionBook" as ReadOnlyTransactionBook
Class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
Class "<<interface>>\nModel" as Model
Class "<<interface>>\nEntry" as Entry
Class AddressBook
Class TransactionBook
Class ModelManager
Class UserPrefs

Class Person
Class Address
Class Email
Class Name
Class Phone
Class Tag
Class Transaction
Class TransactionId
Class TransactionType
Class Description
Class Amount
Class Date

Class "UniqueEntryMap<? extends Entry>" as UniqueEntryMap_T
Class "UniqueEntryMap<Person>" as UniqueEntryMap_Person
Class "UniqueEntryMap<Transaction>" as UniqueEntryMap_Transaction
UniqueEntryMap_T <|-- UniqueEntryMap_Person
UniqueEntryMap_T <|-- UniqueEntryMap_Transaction

Class I #FFFFFF
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

AddressBook .up.|> ReadOnlyAddressBook
TransactionBook .up.|> ReadOnlyTransactionBook

ModelManager .up.|> Model
Model .right.> ReadOnlyUserPrefs
Model .left.> ReadOnlyAddressBook
ModelManager -left-> "1" AddressBook
ModelManager -right-> "1" UserPrefs
UserPrefs .up.|> ReadOnlyUserPrefs

AddressBook *--> "1" UniqueEntryMap_Person
UniqueEntryMap_Person --> "~* all" Person
UniqueEntryMap_Transaction --> "~* all" Transaction
Person .right.|> Entry
Person *--> Name
Person *--> Phone
Person *--> Email
Person *--> Address
Person *--> "*" Tag
TransactionBook *--> "1" UniqueEntryMap_Transaction
Transaction .left.|> Entry
Transaction *--> TransactionId
Transaction *--> TransactionType
Transaction *--> Description
Transaction *--> Amount
Transaction *--> Date

Person -[hidden]up--> I

Name -[hidden]right-> Phone
Phone -[hidden]right-> Address
Address -[hidden]right-> Email

ModelManager --> "~* filtered" Person
ModelManager --> "~* filtered" Transaction
@enduml
